<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Koi Datenblatt</title>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; background: #f8f9fa; color: #333; }
  h2 { text-align: center; }
  label { display: inline-block; width: 130px; margin-top: 10px; font-weight: bold; }
  select, input[type="text"], input[type="number"] {
    width: 220px; padding: 5px; margin-top: 5px;
  }
  .checkboxes label { width: auto; margin-right: 10px; }
  #output { margin-top: 20px; font-weight: bold; color: #0056b3; }
  button { margin-top: 20px; padding: 10px 20px; background: #0056b3; color: white; border: none; border-radius: 6px; cursor: pointer; }
  button:hover { background: #003f8a; }
  .btn-secondary { background: #6c757d; margin-left: 10px; }
  .btn-secondary:hover { background: #5a6268; }
</style>
</head>
<body>

<h2>Koi Datenblatt</h2>

<form id="koiForm">

  <label>Fotos:</label>
  <input type="text" id="fotos" placeholder="z.B. 26-000" pattern="\\d{2}-\\d{3}" required><br>

  <label>Input Date:</label>
  <input type="text" id="inputDate" placeholder="YYMMDD"><br>

  <label>How to Get:</label>
  <select id="howToGet">
    <option selected>Tour KZ</option>
    <option>CC Tour</option>
    <option>Online Auktion</option>
    <option>Narita web-auction</option>
    <option>Live Auktion</option>
  </select><br>

  <label>Breeder:</label>
  <input list="breeders" id="breeder" placeholder="z.B. Isa">
  <datalist id="breeders">
    <option>Aoki</option><option>Beppu</option><option>Dainichi</option><option>Dainichi (T)</option>
    <option>Genjiro</option><option>Higashi</option><option>Hiroi</option><option>Hoshikin</option>
    <option>Hosokai</option><option>Igarashi</option><option>Ikarashi</option><option>Isa</option>
    <option>Ishihara</option><option>Izumiya</option><option>Kanno</option><option>Kawakami</option>
    <option>Kibi</option><option>KK Sakai</option><option>Kondo</option><option>Konishi</option>
    <option>Maruhide</option><option>Maruju</option><option>Marusaka</option><option>Marusei</option>
  </datalist><br>

  <label>Agent:</label>
  <select id="agent">
    <option selected>YI</option>
    <option>KZ-YI</option>
    <option>CC-YI</option>
  </select><br>

  <label>Description:</label>
  <input list="desc" id="description" placeholder="Variet√§t eingeben">
  <datalist id="desc">
    <option>Kohaku</option><option>Sanke</option><option>Showa</option><option>Shiro Utsuri</option>
    <option>Bekko</option><option>Asagi</option><option>Shusui</option><option>Chagoi</option>
    <option>Soragoi</option><option>Ochiba</option><option>Doitsu</option><option>Tancho</option>
    <option>Goshiki</option><option>Kujaku</option><option>Yamabuki</option><option>Platinum</option>
    <option>Gin Rin Kohaku</option><option>Kin Showa</option><option>Beni Kikokuryu</option><option>Hi Utsuri</option>
  </datalist><br>

  <label>QTY:</label>
  <input type="number" id="qty" value="1" min="1"><br>

  <label>Oya:</label>
  <input type="text" id="oya"><br>

  <label>Age:</label>
  <div class="checkboxes" id="age">
    <label><input type="radio" name="age" value="1">1</label>
    <label><input type="radio" name="age" value="2">2</label>
    <label><input type="radio" name="age" value="3">3</label>
    <label><input type="radio" name="age" value="4">4</label>
    <label><input type="radio" name="age" value="5">5</label>
    <label><input type="radio" name="age" value="6">6</label>
  </div><br>

  <label>Sex:</label>
  <div class="checkboxes" id="sex">
    <label><input type="radio" name="sex" value="m">m</label>
    <label><input type="radio" name="sex" value="mw">mw</label>
    <label><input type="radio" name="sex" value="w" checked>w</label>
  </div><br>

  <label>Size/cm:</label>
  <input type="text" id="size"><br>

  <label>B.Price:</label>
  <input type="text" id="bprice"><br>

  <label>K.Price:</label>
  <input type="text" id="kprice"><br>

  <label>Kunde:</label>
  <input list="kunden" id="kunde" placeholder="">
  <datalist id="kunden">
    <option>KZ</option><option>CC</option>
  </datalist><br>

  <label>Bemerkungen:</label>
  <input list="remarks" id="bemerkungen" placeholder="">
  <datalist id="remarks">
    <option>Azukari</option><option>komi</option>
  </datalist><br>

  <div id="output"></div>

  <button type="button" onclick="openKeepNote()">‚û°Ô∏è In Google Keep √∂ffnen</button>
  <button type="reset" class="btn-secondary" onclick="resetForm()">üßπ Formular zur√ºcksetzen</button>

</form>

<script>
const form = document.getElementById("koiForm");
const output = document.getElementById("output");

document.getElementById("inputDate").value = new Date().toISOString().slice(2,10).replace(/-/g,'');

form.addEventListener("input", updateTitle);

function getRadioValue(name) {
  const selected = document.querySelector(`input[name="${name}"]:checked`);
  return selected ? selected.value : "";
}

function updateTitle() {
  const parts = [
    document.getElementById('fotos').value,
    document.getElementById('inputDate').value,
    document.getElementById('howToGet').value,
    document.getElementById('breeder').value,
    document.getElementById('agent').value,
    document.getElementById('description').value,
    document.getElementById('qty').value,
    document.getElementById('oya').value,
    getRadioValue('age'),
    getRadioValue('sex'),
    document.getElementById('size').value,
    document.getElementById('bprice').value,
    document.getElementById('kprice').value,
    document.getElementById('kunde').value,
    document.getElementById('bemerkungen').value
  ];
  output.textContent = parts.join(', ');
}

function openKeepNote() {
  const title = output.textContent || "Koi Datenblatt";
  const fields = document.querySelectorAll('#koiForm input, #koiForm select');
  let body = "";
  fields.forEach(el => {
    if (el.type !== "radio" || el.checked)
      body += `${el.previousElementSibling?.textContent || el.id}: ${el.value}\n`;
  });
  const keepUrl = `https://keep.google.com/#NOTE/${encodeURIComponent(title)}%0A${encodeURIComponent(body)}`;
  window.open(keepUrl, '_blank');
}

function resetForm() {
  form.reset();
  document.getElementById("inputDate").value = new Date().toISOString().slice(2,10).replace(/-/g,'');
  output.textContent = "";
}
</script>

</body>
</html>